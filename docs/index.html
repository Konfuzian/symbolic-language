<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SYM Format - A Data Format for Humans</title>
  <meta name="description" content="SYM is a human-friendly data format. Less syntax, more clarity. No quotes needed, inline commas are safe, clear nesting with brackets.">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', system-ui, sans-serif; }
    code, pre, textarea { font-family: 'Fira Code', monospace; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .animate-fadeIn {
      opacity: 0;
      animation: fadeIn 0.6s ease-out forwards;
    }

    .animate-slideIn {
      animation: slideIn 0.5s ease-out forwards;
    }

    .animate-pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    .glass {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .gradient-border {
      position: relative;
      background: linear-gradient(#0d1117, #0d1117) padding-box,
                  linear-gradient(135deg, #60a5fa, #a78bfa, #ec4899) border-box;
      border: 2px solid transparent;
    }

    * { scroll-behavior: smooth; }

    .line-numbers {
      display: inline-block;
      text-align: right;
      padding-right: 1em;
      border-right: 1px solid #30363d;
      margin-right: 1em;
      user-select: none;
      color: #6e7681;
    }

    .toast {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      padding: 0.75rem 1.5rem;
      background: #10b981;
      color: white;
      border-radius: 0.5rem;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      animation: slideIn 0.3s ease-out;
    }

    textarea:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .code-editor-container {
      position: relative;
      height: 320px;
    }

    .code-editor-highlight {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      overflow: auto;
      pointer-events: none;
    }

    .code-editor-textarea {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      color: transparent;
      caret-color: #f8f8f2;
      resize: none;
      border: none;
      white-space: pre;
      overflow-wrap: normal;
      overflow: auto;
    }

    .code-editor-textarea::selection {
      background: rgba(59, 130, 246, 0.4);
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script>
const { useState, useEffect, useRef } = React;

// === COLORS ===
const colors = {
  comment: '#6a9955',
  variable: '#c586c0',
  key: '#9cdcfe',
  symbol: '#4ec9b0',
  number: '#b5cea8',
  boolean: '#569cd6',
  null: '#569cd6',
  bracket: '#ffd700',
  escape: '#d7ba7d',
  string: '#ce9178',
  default: '#d4d4d4',
};

// === TOKENIZER ===
function tokenize(code) {
  const tokens = [];
  let i = 0;
  while (i < code.length) {
    if (code.slice(i, i + 2) === '/*') {
      const end = code.indexOf('*/', i + 2);
      const endIdx = end === -1 ? code.length : end + 2;
      tokens.push({ type: 'comment', value: code.slice(i, endIdx) });
      i = endIdx;
      continue;
    }
    if (code.slice(i, i + 2) === '//') {
      const prevChar = i > 0 ? code[i - 1] : '\n';
      if (prevChar === '\n' || prevChar === ' ' || prevChar === '\t' || i === 0) {
        const end = code.indexOf('\n', i);
        tokens.push({ type: 'comment', value: code.slice(i, end === -1 ? code.length : end) });
        i = end === -1 ? code.length : end;
        continue;
      }
    }
    if (code[i] === '\n') { tokens.push({ type: 'newline', value: '\n' }); i++; continue; }
    if ('{['.includes(code[i])) { tokens.push({ type: 'bracket', value: code[i] }); i++; continue; }
    if ('}]'.includes(code[i])) { tokens.push({ type: 'bracket', value: code[i] }); i++; continue; }
    if (code[i] === ',') { tokens.push({ type: 'default', value: ',' }); i++; continue; }
    if (code[i] === '$') {
      let j = i + 1;
      while (j < code.length && /[a-zA-Z0-9_-]/.test(code[j])) j++;
      if (code[j] === '!') j++;
      tokens.push({ type: 'variable', value: code.slice(i, j) });
      i = j;
      continue;
    }
    if (code[i] === ':') {
      const prevChar = i > 0 ? code[i - 1] : '\n';
      if (prevChar === '\n' || prevChar === ' ' || prevChar === '\t' || prevChar === '{' || prevChar === '[' || prevChar === ',' || i === 0) {
        let j = i + 1;
        while (j < code.length && /[a-zA-Z0-9_-]/.test(code[j])) j++;
        if (code[j] === '!') j++;
        const lastNonWs = tokens.filter(t => t.type !== 'newline' && t.value.trim()).pop();
        const isKey = !lastNonWs || lastNonWs.value === '{' || lastNonWs.value === ',';
        tokens.push({ type: isKey ? 'key' : 'symbol', value: code.slice(i, j) });
        i = j;
        continue;
      }
    }
    if (code[i] === '\\') {
      let j = i + 1;
      if (j < code.length) { j++; while (j < code.length && /[a-zA-Z0-9_-]/.test(code[j])) j++; }
      tokens.push({ type: 'escape', value: code.slice(i, j) });
      i = j;
      continue;
    }
    if (' \t'.includes(code[i])) {
      let j = i;
      while (j < code.length && ' \t'.includes(code[j])) j++;
      tokens.push({ type: 'default', value: code.slice(i, j) });
      i = j;
      continue;
    }
    let j = i;
    while (j < code.length && !' \t\n{}[],'.includes(code[j])) j++;
    if (j === i) { tokens.push({ type: 'default', value: code[i] }); i++; continue; }
    const word = code.slice(i, j);
    if (word === 'true' || word === 'false') tokens.push({ type: 'boolean', value: word });
    else if (word === 'null') tokens.push({ type: 'null', value: word });
    else if (/^(inf|-inf|nan)$/.test(word)) tokens.push({ type: 'number', value: word });
    else if (/^-?(\d[\d_]*\.?[\d_]*([eE][+-]?\d+)?|0x[\da-fA-F_]+|0b[01_]+|0o[0-7_]+)$/.test(word)) tokens.push({ type: 'number', value: word });
    else tokens.push({ type: 'string', value: word });
    i = j;
  }
  return tokens;
}

// === SYM PARSER ===
function parseSym(code) {
  let pos = 0;
  const vars = {};

  function skipWhitespaceAndComments() {
    while (pos < code.length) {
      if (code[pos] === ' ' || code[pos] === '\t' || code[pos] === '\n' || code[pos] === '\r') {
        pos++;
      } else if (code.slice(pos, pos + 2) === '//') {
        while (pos < code.length && code[pos] !== '\n') pos++;
      } else if (code.slice(pos, pos + 2) === '/*') {
        pos += 2;
        while (pos < code.length && code.slice(pos, pos + 2) !== '*/') pos++;
        pos += 2;
      } else if (code[pos] === ',') {
        pos++;
      } else {
        break;
      }
    }
  }

  function parseValue() {
    skipWhitespaceAndComments();
    if (pos >= code.length) return null;

    const ch = code[pos];

    // Object
    if (ch === '{') {
      pos++;
      const obj = {};
      while (true) {
        skipWhitespaceAndComments();
        if (pos >= code.length || code[pos] === '}') { pos++; break; }

        // Variable definition: $name value
        if (code[pos] === '$') {
          pos++;
          let varName = '';
          while (pos < code.length && /[a-zA-Z0-9_-]/.test(code[pos])) {
            varName += code[pos++];
          }
          skipWhitespaceAndComments();
          const varVal = parseValue();
          vars[varName] = varVal;
          continue;
        }

        // Key: :name value
        if (code[pos] === ':') {
          pos++;
          let key = '';
          while (pos < code.length && /[a-zA-Z0-9_-]/.test(code[pos])) {
            key += code[pos++];
          }
          skipWhitespaceAndComments();
          obj[key] = parseValue();
        } else {
          break;
        }
      }
      return obj;
    }

    // Array
    if (ch === '[') {
      pos++;
      const arr = [];
      while (true) {
        skipWhitespaceAndComments();
        if (pos >= code.length || code[pos] === ']') { pos++; break; }
        arr.push(parseValue());
      }
      return arr;
    }

    // Variable reference
    if (ch === '$') {
      pos++;
      let varName = '';
      while (pos < code.length && /[a-zA-Z0-9_-]/.test(code[pos])) {
        varName += code[pos++];
      }
      return vars[varName] !== undefined ? vars[varName] : '$' + varName;
    }

    // Symbol (enum-like keyword)
    if (ch === ':') {
      pos++;
      let sym = '';
      while (pos < code.length && /[a-zA-Z0-9_-]/.test(code[pos])) {
        sym += code[pos++];
      }
      return sym;
    }

    // Escape sequence
    if (ch === '\\') {
      pos++;
      let escaped = '';
      while (pos < code.length && !' \t\n{}[],:'.includes(code[pos])) {
        escaped += code[pos++];
      }
      return escaped;
    }

    // String/number/boolean/null - read until delimiter
    let value = '';
    let lineStart = pos;

    // Find start of line for multiline detection
    let i = pos - 1;
    while (i >= 0 && code[i] !== '\n') i--;
    const indent = pos - i - 1;

    // Read first word
    while (pos < code.length && !' \t\n{}[]'.includes(code[pos])) {
      value += code[pos++];
    }

    // Read rest of same line (for values like "John Doe")
    while (pos < code.length && !'\n{}[]'.includes(code[pos])) {
      value += code[pos++];
    }

    // Check for multiline: if next lines have greater indent, append them
    while (pos < code.length && code[pos] === '\n') {
      // Look ahead for continuation
      let nextLineStart = pos + 1;
      let nextIndent = 0;
      while (nextLineStart + nextIndent < code.length &&
             (code[nextLineStart + nextIndent] === ' ' || code[nextLineStart + nextIndent] === '\t')) {
        nextIndent++;
      }
      // Check if next line is a continuation (more indented and not a structure/key/comma)
      const nextChar = code[nextLineStart + nextIndent];
      if (nextIndent > indent && nextChar && !'{}[],:$'.includes(nextChar)) {
        pos = nextLineStart + nextIndent;
        value += '\n';
        while (pos < code.length && !'\n{}[]'.includes(code[pos])) {
          value += code[pos++];
        }
      } else {
        break;
      }
    }

    value = value.trim();

    // Type coercion
    if (value === 'true') return true;
    if (value === 'false') return false;
    if (value === 'null') return null;
    if (value === 'inf') return Infinity;
    if (value === '-inf') return -Infinity;
    if (value === 'nan') return NaN;
    if (/^-?\d+$/.test(value)) return parseInt(value, 10);
    if (/^-?\d+\.\d+$/.test(value)) return parseFloat(value);
    if (/^-?\d+\.?\d*[eE][+-]?\d+$/.test(value)) return parseFloat(value);
    if (/^0x[\da-fA-F]+$/.test(value)) return parseInt(value, 16);
    if (/^0b[01]+$/.test(value)) return parseInt(value.slice(2), 2);
    if (/^0o[0-7]+$/.test(value)) return parseInt(value.slice(2), 8);

    return value;
  }

  try {
    const result = parseValue();
    return JSON.stringify(result, null, 2);
  } catch (e) {
    return JSON.stringify({ error: 'Parse error: ' + e.message }, null, 2);
  }
}

// === TOAST COMPONENT ===
function Toast({ message, show, onClose }) {
  useEffect(() => {
    if (show) {
      const timer = setTimeout(onClose, 2000);
      return () => clearTimeout(timer);
    }
  }, [show, onClose]);

  if (!show) return null;
  return React.createElement('div', { className: 'toast' }, message);
}

// === COPY BUTTON ===
function CopyButton({ text, label = 'Copy' }) {
  const [copied, setCopied] = useState(false);

  const handleCopy = async () => {
    try {
      await navigator.clipboard.writeText(text);
      setCopied(true);
    } catch (err) {
      console.error('Failed to copy:', err);
    }
  };

  return React.createElement('button', {
    onClick: handleCopy,
    className: 'px-3 py-1.5 text-xs font-medium rounded-md transition-all ' +
      (copied ? 'bg-green-600 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'),
    title: copied ? 'Copied!' : label
  }, copied ? 'âœ“ Copied!' : 'ðŸ“‹ ' + label);
}

// === LINE NUMBERS ===
function withLineNumbers(code) {
  const lines = code.split('\n');
  return lines.map((line, i) => React.createElement('div', { key: i, className: 'flex' },
    React.createElement('span', { className: 'line-numbers text-xs' }, i + 1),
    React.createElement('span', null, line || ' ')
  ));
}

// === HIGHLIGHT COMPONENT ===
function Highlight({ code, showLineNumbers = false }) {
  const tokens = tokenize(code);
  if (showLineNumbers) {
    const lines = code.split('\n');
    return React.createElement('pre', {
      className: 'bg-[#1e1e1e] p-4 overflow-auto text-[13px] leading-relaxed m-0',
      style: { fontFamily: "'Fira Code', monospace" }
    },
      lines.map((line, i) => React.createElement('div', { key: i, className: 'flex' },
        React.createElement('span', { className: 'inline-block w-8 text-right pr-3 text-gray-600 select-none border-r border-gray-700 mr-3' }, i + 1),
        React.createElement('code', null,
          tokenize(line).map((t, j) => React.createElement('span', {
            key: j,
            style: { color: colors[t.type] || colors.default }
          }, t.value))
        )
      ))
    );
  }

  return React.createElement('pre', {
    className: 'bg-[#1e1e1e] p-4 overflow-auto text-[13px] leading-relaxed m-0',
    style: { fontFamily: "'Fira Code', monospace" }
  },
    React.createElement('code', null,
      tokens.map((t, i) => React.createElement('span', { key: i, style: { color: colors[t.type] || colors.default } }, t.value))
    )
  );
}

// === LIVE EDITOR ===
function LiveEditor() {
  const defaultCode = `// Try editing this SYM code!

{ :name John Doe
, :age 30
, :email john@example.com
, :active true
}`;

  const [code, setCode] = useState(defaultCode);
  const [jsonOutput, setJsonOutput] = useState('');
  const textareaRef = useRef(null);
  const highlightRef = useRef(null);

  useEffect(() => {
    setJsonOutput(parseSym(code));
  }, [code]);

  const handleScroll = (e) => {
    if (highlightRef.current) {
      highlightRef.current.scrollTop = e.target.scrollTop;
      highlightRef.current.scrollLeft = e.target.scrollLeft;
    }
  };

  // Render highlighted code
  const renderHighlightedCode = () => {
    const tokens = tokenize(code);
    return tokens.map((t, i) => React.createElement('span', {
      key: i,
      style: { color: colors[t.type] || colors.default }
    }, t.value));
  };

  return React.createElement('div', { className: 'mb-12' },
    React.createElement('h2', { className: 'text-3xl font-bold mb-2 text-white' }, 'âœ¨ Try It Live'),
    React.createElement('p', { className: 'text-gray-400 mb-4' }, 'Edit the SYM code and see the structure update in real-time'),

    React.createElement('div', { className: 'grid grid-cols-1 lg:grid-cols-2 gap-4' },
      // Left: Editor with syntax highlighting
      React.createElement('div', { className: 'bg-[#161b22] rounded-xl border border-gray-700 overflow-hidden' },
        React.createElement('div', { className: 'px-4 py-3 border-b border-gray-700 flex items-center justify-between' },
          React.createElement('span', { className: 'text-gray-400 text-sm font-medium' }, 'SYM Input'),
          React.createElement(CopyButton, { text: code, label: 'Copy' })
        ),
        React.createElement('div', { className: 'code-editor-container bg-[#1e1e1e]' },
          // Highlighted code layer (behind)
          React.createElement('pre', {
            ref: highlightRef,
            className: 'code-editor-highlight p-4 text-[13px] leading-relaxed m-0',
            style: { fontFamily: "'Fira Code', monospace" }
          },
            React.createElement('code', null, renderHighlightedCode())
          ),
          // Textarea layer (in front, transparent)
          React.createElement('textarea', {
            ref: textareaRef,
            value: code,
            onChange: (e) => setCode(e.target.value),
            onScroll: handleScroll,
            className: 'code-editor-textarea p-4 text-[13px] leading-relaxed',
            style: { fontFamily: "'Fira Code', monospace" },
            spellCheck: false
          })
        )
      ),

      // Right: JSON Output
      React.createElement('div', { className: 'bg-[#161b22] rounded-xl border border-gray-700 overflow-hidden' },
        React.createElement('div', { className: 'px-4 py-3 border-b border-gray-700 flex items-center justify-between' },
          React.createElement('span', { className: 'text-gray-400 text-sm font-medium' }, 'JSON Structure'),
          React.createElement(CopyButton, { text: jsonOutput, label: 'Copy' })
        ),
        React.createElement('pre', {
          className: 'h-80 bg-[#1e1e1e] text-gray-300 p-4 text-sm overflow-auto',
          style: { fontFamily: "'Fira Code', monospace" }
        }, jsonOutput)
      )
    ),

    React.createElement('p', { className: 'mt-3 text-xs text-gray-500' },
      'ðŸ’¡ For production use, see the ',
      React.createElement('a', {
        href: 'https://github.com/Konfuzian/symbolic-language/tree/main/parsers/rust',
        className: 'text-blue-400 hover:underline'
      }, 'Rust parser'),
      '.'
    )
  );
}

// === EXAMPLES DATA ===
const examples = {
  'Simple Config': `// Simple application configuration

{ $app myapp
, $version 1.0.0
, $debug true
}

{ :meta
  { :name $app
  , :version $version
  }

, :server
  { :host localhost
  , :port 8080
  , :ssl false
  , :status :running
  }

, :tags
  [ :api
  , :backend
  , :production
  ]

, :description
    This is a multiline description.
    It can span multiple lines.
    Commas, like this one, are preserved inline.
}`,

  'Docker Compose': `// Docker Compose in SYM

{ $db-name myapp
, $db-user admin
, $db-pass secretpass123
}

{ :version 3.8
, :services
  { :nginx
    { :image nginx:alpine
    , :ports
      [ 80:80
      , 443:443
      ]
    , :restart :always
    }
  , :api
    { :build
      { :context ./api
      }
    , :environment
      { :NODE_ENV production
      , :DATABASE_URL postgres://$db-user:$db-pass@db:5432/$db-name
      }
    , :depends_on
      [ :db
      , :redis
      ]
    }
  , :db
    { :image postgres:16-alpine
    , :environment
      { :POSTGRES_DB $db-name
      , :POSTGRES_USER $db-user
      , :POSTGRES_PASSWORD $db-pass
      }
    }
  }
, :volumes
  { :pgdata
  }
}`,

  'Kubernetes': `// Kubernetes Deployment

{ $app web-api
, $replicas 3
, $image-tag v2.4.1
}

{ :apiVersion apps/v1
, :kind :Deployment
, :metadata
  { :name $app
  , :labels
    { :app $app
    , :env production
    }
  }
, :spec
  { :replicas $replicas
  , :template
    { :spec
      { :containers
        [ { :name $app
          , :image gcr.io/myproject/$app:$image-tag
          , :ports
            [ { :containerPort 8080
              }
            ]
          , :resources
            { :requests
              { :cpu 100m
              , :memory 256Mi
              }
            , :limits
              { :cpu 500m
              , :memory 512Mi
              }
            }
          , :livenessProbe
            { :httpGet
              { :path /health
              , :port 8080
              }
            }
          }
        ]
      }
    }
  }
}`,

  'Package.json': `// Node.js package manifest

{ :name @acme/billing-service
, :version 3.2.0
, :description
    Internal billing service for processing
    payments and generating invoices.
, :license MIT
, :private true

, :scripts
  { :dev nodemon src/index.ts
  , :build tsc
  , :test jest --coverage
  }

, :dependencies
  { :express 4.18.2
  , :stripe 14.10.0
  , :zod 3.22.4
  }

, :devDependencies
  { :typescript 5.3.3
  , :jest 29.7.0
  }

, :engines
  { :node >=20.0.0
  }
}`,

  'GitHub Actions': `// GitHub Actions CI/CD

{ :name CI/CD Pipeline
, :on
  { :push
    { :branches
      [ main
      , develop
      ]
    }
  , :pull_request
    { :branches
      [ main
      ]
    }
  }

, :jobs
  { :test
    { :runs-on ubuntu-latest
    , :services
      { :postgres
        { :image postgres:16-alpine
        , :env
          { :POSTGRES_USER test
          , :POSTGRES_PASSWORD test
          }
        }
      }
    , :steps
      [ { :uses actions/checkout@v4
        }
      , { :uses actions/setup-node@v4
        , :with
          { :node-version 20
          }
        }
      , { :run npm ci
        }
      , { :run npm test
        }
      ]
    }
  , :deploy
    { :needs test
    , :if github.ref == 'refs/heads/main'
    , :runs-on ubuntu-latest
    , :steps
      [ { :run echo "Deploying..."
        }
      ]
    }
  }
}`,

  'App Config': `// Production app configuration

{ $env production
, $region us-east-1
}

{ :app
  { :name acme-platform
  , :version 4.12.0
  }

, :server
  { :host 0.0.0.0
  , :port 8080
  , :cors
    { :origins
      [ https://app.acme.com
      , https://admin.acme.com
      ]
    }
  }

, :database
  { :host db.$region.acme.internal
  , :port 5432
  , :pool
    { :min 10
    , :max 50
    }
  , :ssl
    { :enabled true
    }
  }

, :redis
  { :cluster
    [ { :host redis-1.$region.acme.internal
      }
    , { :host redis-2.$region.acme.internal
      }
    ]
  }

, :logging
  { :level :warn
  , :format :json
  , :redact
    [ password
    , token
    , secret
    ]
  }

, :features
  { :new-checkout true
  , :ai-recs true
  , :beta-dash false
  }
}`,

  'API Response': `// E-commerce Order Response

{ :status :success
, :data
  { :order
    { :id ord_2xK9mN4pL8qR
    , :status :shipped
    , :customer
      { :email sarah@example.com
      , :name Sarah Johnson
      , :tier :gold
      }
    , :items
      [ { :sku WH-1000XM5
        , :name Sony Headphones
        , :quantity 1
        , :price 349.99
        }
      , { :sku USB-C-2M
        , :name USB-C Cable
        , :quantity 2
        , :price 19.99
        }
      ]
    , :summary
      { :subtotal 389.97
      , :discount 35.00
      , :tax 28.40
      , :total 383.37
      , :currency USD
      }
    , :payment
      { :method :credit_card
      , :brand :visa
      , :last4 4242
      , :status :captured
      }
    , :shipping
      { :carrier :fedex
      , :tracking 794644790138
      , :eta 2024-01-20
      }
    }
  }
}`,

  'Tailwind': `// Tailwind CSS Config

{ :content
  [ ./src/**/*.{js,tsx}
  , ./app/**/*.{js,tsx}
  ]
, :darkMode :class
, :theme
  { :extend
    { :colors
      { :brand
        { :50 #eff6ff
        , :500 #3b82f6
        , :900 #1e3a8a
        }
      , :success #10b981
      , :error #ef4444
      }
    , :fontFamily
      { :sans
        [ Inter
        , system-ui
        , sans-serif
        ]
      , :mono
        [ Fira Code
        , monospace
        ]
      }
    , :animation
      { :fade-in fade-in 0.5s ease-out
      }
    , :keyframes
      { :fade-in
        { :from
          { :opacity 0
          }
        , :to
          { :opacity 1
          }
        }
      }
    }
  }
, :plugins
  [ @tailwindcss/forms
  , @tailwindcss/typography
  ]
}`,
};

const exampleKeys = Object.keys(examples);

// === HERO ===
function Hero() {
  return React.createElement('div', { className: 'text-center mb-16 animate-fadeIn' },
    React.createElement('h1', {
      className: 'text-6xl md:text-7xl font-extrabold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent',
      style: { animationDelay: '0.1s' }
    },
      React.createElement('span', { className: 'block' }, 'SYM'),
      React.createElement('span', { className: 'block text-3xl md:text-4xl mt-2' }, 'The Symbolic Language')
    ),
    React.createElement('p', {
      className: 'text-xl md:text-2xl text-gray-300 mb-4',
      style: { animationDelay: '0.2s' }
    }, 'A data format for humans.'),
    React.createElement('p', {
      className: 'text-lg text-gray-400 mb-8',
      style: { animationDelay: '0.3s' }
    }, 'Less syntax, more clarity.'),
    React.createElement('div', {
      className: 'flex flex-wrap justify-center gap-4',
      style: { animationDelay: '0.4s' }
    },
      React.createElement('a', {
        href: 'https://github.com/Konfuzian/symbolic-language',
        className: 'px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 transition-all shadow-lg hover:shadow-blue-500/50 transform hover:scale-105'
      }, 'â­ GitHub'),
      React.createElement('a', {
        href: 'https://github.com/Konfuzian/symbolic-language/blob/main/spec/SPEC.md',
        className: 'px-8 py-3 glass text-white rounded-lg font-semibold hover:bg-white/10 transition-all'
      }, 'ðŸ“– Specification'),
      React.createElement('a', {
        href: 'https://github.com/Konfuzian/symbolic-language/tree/main/tests',
        className: 'px-8 py-3 glass text-white rounded-lg font-semibold hover:bg-white/10 transition-all'
      }, 'ðŸ§ª Test Suite')
    )
  );
}

// === FEATURES ===
function Features() {
  const features = [
    { icon: 'ðŸš«', title: 'No Quotes', desc: 'Never think about quotes again. No escaping, no syntax errors from missing quotes.' },
    { icon: 'âœ…', title: 'Safe Commas', desc: 'Inline commas are fine â€” only newline+comma separates elements.' },
    { icon: 'ðŸ”¢', title: 'Auto Types', desc: 'Numbers, booleans, and null are detected automatically. No manual type annotations.' },
    { icon: 'ðŸ“Š', title: 'Git Diff Friendly', desc: 'Leading commas mean adding/removing lines only changes one line in diffs.' },
    { icon: 'ðŸ”“', title: 'Backslash Freedom', desc: 'Use \\ for escapes like \\n \\t or literal values. No more path escaping nightmares.' },
    { icon: 'ðŸŽ¯', title: 'Clear Nesting', desc: 'Brackets make structure obvious at any depth. Leading commas align vertically, making nesting levels easy to scan.' },
    { icon: 'ðŸ’Ž', title: 'Variables', desc: 'Define once, use everywhere with $var syntax. DRY principle.' },
    { icon: 'ðŸ·ï¸', title: 'Symbols', desc: 'Use :keywords for enums, status codes, types, and tags. Self-documenting and typo-resistant.' },
    { icon: 'ðŸ’¬', title: 'Comments', desc: '// line and /* block */ comments fully supported.' },
  ];

  return React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16' },
    features.map((f, i) => React.createElement('div', {
      key: f.title,
      className: 'glass rounded-xl p-6 hover:bg-white/10 transition-all animate-fadeIn',
      style: { animationDelay: `${0.5 + i * 0.1}s` }
    },
      React.createElement('div', { className: 'text-4xl mb-3' }, f.icon),
      React.createElement('h3', { className: 'font-bold text-white mb-2 text-lg' }, f.title),
      React.createElement('p', { className: 'text-sm text-gray-400' }, f.desc)
    ))
  );
}

// === PLAYGROUND ===
function Playground() {
  const [selected, setSelected] = useState(() => {
    const hash = window.location.hash.slice(1);
    return exampleKeys.find(k => k.toLowerCase().replace(/ /g, '-') === hash) || exampleKeys[0];
  });

  useEffect(() => {
    const handleKeyDown = (e) => {
      const currentIndex = exampleKeys.indexOf(selected);
      if (e.key === 'ArrowLeft' && currentIndex > 0) {
        setSelected(exampleKeys[currentIndex - 1]);
      } else if (e.key === 'ArrowRight' && currentIndex < exampleKeys.length - 1) {
        setSelected(exampleKeys[currentIndex + 1]);
      }
    };
    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, [selected]);

  useEffect(() => {
    window.location.hash = selected.toLowerCase().replace(/ /g, '-');
  }, [selected]);

  const downloadExample = () => {
    const blob = new Blob([examples[selected]], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = selected.toLowerCase().replace(/ /g, '-') + '.sym';
    a.click();
    URL.revokeObjectURL(url);
  };

  return React.createElement('div', { className: 'mb-16' },
    React.createElement('h2', { className: 'text-3xl font-bold mb-2 text-white' }, 'ðŸ“š Examples'),
    React.createElement('p', { className: 'text-gray-400 mb-6' }, 'Browse real-world configurations. Use â† â†’ arrow keys to navigate.'),

    React.createElement('div', { className: 'flex flex-wrap gap-2 mb-4' },
      exampleKeys.map(name => React.createElement('button', {
        key: name,
        onClick: () => setSelected(name),
        className: `px-4 py-2 rounded-lg text-sm font-medium transition-all transform ${
          selected === name
            ? 'bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg scale-105'
            : 'bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-gray-200'
        }`
      }, name))
    ),

    React.createElement('div', { className: 'gradient-border rounded-xl overflow-hidden' },
      React.createElement('div', { className: 'px-4 py-3 bg-[#161b22] border-b border-gray-700 flex items-center justify-between flex-wrap gap-2' },
        React.createElement('div', { className: 'flex items-center gap-3' },
          React.createElement('div', { className: 'flex gap-1.5' },
            React.createElement('span', { className: 'w-3 h-3 rounded-full bg-red-500' }),
            React.createElement('span', { className: 'w-3 h-3 rounded-full bg-yellow-500' }),
            React.createElement('span', { className: 'w-3 h-3 rounded-full bg-green-500' })
          ),
          React.createElement('span', { className: 'text-gray-400 text-sm font-medium' },
            selected.toLowerCase().replace(/ /g, '-').replace(/\./g, '') + '.sym'
          )
        ),
        React.createElement('div', { className: 'flex gap-2' },
          React.createElement(CopyButton, { text: examples[selected], label: 'Copy' }),
          React.createElement('button', {
            onClick: downloadExample,
            className: 'px-3 py-1.5 text-xs font-medium rounded-md bg-gray-700 text-gray-300 hover:bg-gray-600 transition-all'
          }, 'â¬‡ï¸ Download')
        )
      ),
      React.createElement('div', { className: 'max-h-[500px] overflow-auto bg-[#1e1e1e]' },
        React.createElement(Highlight, { code: examples[selected], showLineNumbers: true })
      )
    ),

    React.createElement('div', { className: 'mt-4 text-xs text-gray-500 flex flex-wrap gap-x-4 gap-y-2' },
      React.createElement('span', { className: 'text-gray-400 font-semibold' }, 'Legend:'),
      Object.entries({
        comment: 'comments',
        variable: 'variables',
        key: 'keys',
        symbol: 'symbols',
        number: 'numbers',
        boolean: 'booleans',
        string: 'strings',
        bracket: 'brackets'
      }).map(([type, label]) =>
        React.createElement('span', { key: type, className: 'flex items-center gap-1' },
          React.createElement('span', { style: { color: colors[type] } }, 'â—'),
          label
        )
      )
    )
  );
}

// === COMPARISON ===
function Comparison() {
  const examples = {
    json: `{
  "name": "my-app",
  "address": "123 Main St, Apt 4",
  "database": {
    "host": "localhost",
    "port": 5432
  },
  "tags": ["api", "backend"]
}`,
    yaml: `name: my-app
address: "123 Main St, Apt 4"  # Must quote!
database:
  host: localhost
  port: 5432
tags:
  - api
  - backend`,
    sym: `{ :name my-app
, :address 123 Main St, Apt 4
, :database
  { :host localhost
  , :port 5432
  }
, :tags
  [ api
  , backend
  ]
}`
  };

  return React.createElement('div', { className: 'mb-16' },
    React.createElement('h2', { className: 'text-3xl font-bold mb-2 text-white' }, 'âš–ï¸ Comparison'),
    React.createElement('p', { className: 'text-gray-400 mb-6' }, 'See how SYM compares to other formats'),

    React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-3 gap-4' },
      [
        ['JSON', examples.json, 'Requires quotes, no inline commas'],
        ['YAML', examples.yaml, 'Indentation-sensitive, must quote commas'],
        ['SYM âœ¨', examples.sym, 'No quotes, inline commas safe']
      ].map(([title, code, note]) =>
        React.createElement('div', {
          key: title,
          className: `glass rounded-xl overflow-hidden border ${title.includes('âœ¨') ? 'border-green-500/50' : 'border-gray-700'}`
        },
          React.createElement('div', { className: 'px-4 py-3 border-b border-gray-700 flex items-center justify-between' },
            React.createElement('span', { className: 'text-sm font-semibold text-white' }, title),
            React.createElement(CopyButton, { text: code, label: 'Copy' })
          ),
          React.createElement('pre', {
            className: 'p-4 text-xs text-gray-300 overflow-auto bg-[#1e1e1e] h-64',
            style: { fontFamily: "'Fira Code', monospace" }
          }, code),
          React.createElement('div', { className: 'px-4 py-2 bg-gray-900/50 text-xs text-gray-500' }, note)
        )
      )
    )
  );
}

// === FOOTER ===
function Footer() {
  return React.createElement('footer', { className: 'text-center text-gray-500 text-sm pt-12 border-t border-gray-800' },
    React.createElement('p', { className: 'mb-2' },
      'MIT License Â· Built with ',
      React.createElement('span', { className: 'text-red-500' }, 'â™¥'),
      ' for humans'
    ),
    React.createElement('p', null,
      React.createElement('a', {
        href: 'https://github.com/Konfuzian/symbolic-language',
        className: 'hover:text-gray-300 underline'
      }, 'View on GitHub'),
      ' Â· ',
      React.createElement('a', {
        href: 'https://github.com/Konfuzian/symbolic-language/blob/main/spec/SPEC.md',
        className: 'hover:text-gray-300 underline'
      }, 'Specification'),
      ' Â· ',
      React.createElement('a', {
        href: 'https://github.com/Konfuzian/symbolic-language/tree/main/tests',
        className: 'hover:text-gray-300 underline'
      }, 'Tests')
    )
  );
}

// === MAIN APP ===
function App() {
  const [toastMessage, setToastMessage] = useState('');
  const [showToast, setShowToast] = useState(false);

  return React.createElement('div', { className: 'min-h-screen bg-[#0d1117] text-gray-300' },
    React.createElement('div', { className: 'max-w-6xl mx-auto px-4 py-12 md:py-20' },
      React.createElement(Hero),
      React.createElement(Features),
      React.createElement(LiveEditor),
      React.createElement(Playground),
      React.createElement(Comparison),
      React.createElement(Footer)
    ),
    React.createElement(Toast, {
      message: toastMessage,
      show: showToast,
      onClose: () => setShowToast(false)
    })
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
  </script>
</body>
</html>
